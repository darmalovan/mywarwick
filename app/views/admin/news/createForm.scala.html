@import controllers.admin.PublishNewsItemData
@import views.html._
@import system.RequestContext
@import models.publishing.PermissionScope
@import models.publishing.Publisher
@(
    publisher: Publisher,
    form: Form[PublishNewsItemData],
    departmentOptions: Seq[(String, String)],
    categories: Seq[NewsCategory],
    permissionScope: PermissionScope
)(implicit messages: Messages, context: RequestContext, flash: Flash)

@implicitFieldConstructor = @{
  b3.horizontal.fieldConstructor("col-md-3", "col-md-9")
}

@common.admin("Create news") {
  <div class="container-fluid">
  @b3.form(action = controllers.admin.routes.NewsController.create(publisher.id)) {

    @admin.news.contentForm(form)

    @tags.audiencePicker(form, "audience", departmentOptions, "news item", permissionScope, allowPublic = true)

    @tags.categoryPicker(form, "categories", categories, "news item")

    @tags.submitOrCancel("Create", controllers.admin.routes.NewsController.list(publisher.id))

  }
  </div>
}
